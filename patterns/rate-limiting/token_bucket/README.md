
# Token Bucket Rate Limiter

该包实现了基于令牌桶算法的限流器。

## 特性

- 支持设置桶的容量和填充速率

- 支持限流等待和超时

- 平滑限流,防止突发流量冲击

- 简单易用

## 示例

```go
bucket := tokenbucket.New(10, 100) // 容量10,速率100个/秒

for {
  bucket.Take() 
  // 使用令牌

  bucket.Put()
  // 返回令牌
}
```

## 接口

- `New` 创建桶,传入容量和填充速率 

- `Take` 取走令牌,阻塞等待如果没有令牌

- `Put` 返回令牌到桶中

- `Wait` 阻塞等待一个令牌

- `Close` 关闭桶

## 实现原理

- 桶以固定速率填充令牌 

- 调用者取走令牌进行请求

- 如果没有可用令牌,等待或阻塞请求

- 滑动时间窗口周期性重置可用令牌数

## 优点

- 控制访问速率,平滑限流

- 容易配置限流速率

- 支持限流等待

- 无状态,可横向扩展

